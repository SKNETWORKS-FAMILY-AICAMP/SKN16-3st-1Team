# π“ LLM κ°•μ κ²€μƒ‰ & Help RAG Agent

LLM κ΄€λ ¨ κ°•μ μλ£(Jupyter λ…ΈνΈλ¶, PDF)λ¥Ό κΈ°λ°μΌλ΅ ν• RAG(Retrieval-Augmented Generation) μ‹μ¤ν…μ…λ‹λ‹¤.

---

## π“‹ ν”„λ΅μ νΈ κ°μ”

- **λ©μ **: LLM κ°•μ μλ£λ¥Ό μ„λ² λ”©ν•μ—¬ μ‚¬μ©μ μ§μμ— λ€ν• λ‹µλ³€ μ κ³µ
- **λ°μ΄ν„°**: `educational_materials/` λ””λ ‰ν† λ¦¬μ `.ipynb` λ° `.pdf` νμΌ
- **κΈ°λ¥**: μ½”λ“ κ²€μƒ‰, κ°•μ μ”μ•½, μ§μμ‘λ‹µ, μ½”λ“ μ„¤λ…  
  - π†• **μ£Όμ°¨ μ”μ•½**: `κ°•μ μ”μ•½: 6μ›” 3μ£Όμ°¨` κ°™μ€ **μμ—°μ–΄ μ£Όμ°¨ μ…λ ¥** μ§€μ›  
  - π†• **νκ³ λ΅ μƒμ„±**: `νκ³ λ΅: 7μ›” 3μ£Όμ°¨`, `νκ³ λ΅: 2025-07-21` λ“± **λΈ”λ΅κ·Έ μ¤νƒ€μΌ νκ³ **  
  - π†• **μλ„ μΈμ‹ μ½”λ“ κ²€μƒ‰**: `CNN`, `RAG`, `LangChain`, `Retriever` κ°™μ€ **ν‚¤μ›λ“λ§**μΌλ΅λ„ κ΄€λ ¨ μ½”λ“/μ„¤λ… μ°μ„  κ²€μƒ‰  
  - π†• **μ—”SEMBLE/Fallback**: BM25+λ²΅ν„° κ²°ν•©(κ°€λ¥ μ‹) β†’ λ²„μ „ νΈν™ μ• λλ©΄ **λ²΅ν„° κ²€μƒ‰λ§ μλ™ μ‚¬μ©**

---

## π›  κΈ°μ  μ¤νƒ

- **Python 3.10+**
- **LangChain** (RAG νμ΄ν”„λΌμΈ/LLM)
- **Chroma DB** (λ²΅ν„° DB)
- **Gradio** (μ›Ή UI)
- **HuggingFace μ„λ² λ”©**: `google/embeddinggemma-300m`
- **OpenAI LLM**: `gpt-4o-mini`
- **PyMuPDF** (PDF μ²λ¦¬)
- π†• **dateparser** (ν•κµ­μ–΄ μμ—°μ–΄ λ‚ μ§/μ£Όμ°¨ νμ‹±)

---

## π“ ν”„λ΅μ νΈ κµ¬μ΅°



```
3rd_project2/
β”β”€β”€ educational_materials/ # κ°•μ μλ£ λ””λ ‰ν† λ¦¬
β”‚ β”β”€β”€ notebooks/ # Jupyter λ…ΈνΈλ¶ νμΌλ“¤
β”‚ β””β”€β”€ pdfs/ # PDF κ°•μ μλ£λ“¤
β”β”€β”€ src/ # μ†μ¤ μ½”λ“
β”‚ β”β”€β”€ init.py
β”‚ β”β”€β”€ vector_db_builder.py # λ²΅ν„° DB κµ¬μ¶• λ¨λ“
β”‚ β”β”€β”€ rag_system.py # RAG μ‹μ¤ν… λ©”μΈ ν΄λμ¤ (μ£Όμ°¨/νκ³ λ΅/μλ„ μΈμ‹ ν¬ν•¨) β† π†•
β”‚ β””β”€β”€ gradio_app.py # Gradio μ›Ή μΈν„°νμ΄μ¤ (λ…λ Ήμ–΄ λΌμ°ν…) β† π†•
β”β”€β”€ main.py # λ©”μΈ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”β”€β”€ requirements.txt # Python μμ΅΄μ„± (dateparser, pillow ν¬ν•¨ κ¶μ¥) β† π†•
β”β”€β”€ PRD.md # ν”„λ΅μ νΈ μ”κµ¬μ‚¬ν•­ λ¬Έμ„
β””β”€β”€ README.md # μ΄ νμΌ
```

## π€ μ„¤μΉ λ° μ‹¤ν–‰

### 1. μμ΅΄μ„± μ„¤μΉ

```bash
pip install -r requirements.txt
```

### 2. OpenAI API ν‚¤ μ„¤μ •

```bash
# .env νμΌ μƒμ„±
cp .env.example .env

# .env νμΌμ—μ„ OpenAI API ν‚¤ μ„¤μ •
OPENAI_API_KEY=your_actual_api_key_here
```

### 3. κ°•μ μλ£ μ¤€λΉ„

`educational_materials/` λ””λ ‰ν† λ¦¬μ— κ°•μ μλ£λ¥Ό λ°°μΉ:

```
educational_materials/
β”β”€β”€ notebooks/
β”‚   β”β”€β”€ 2024-09-16_LangChain_RAG.ipynb
β”‚   β”β”€β”€ 2024-09-17_CNN_Tutorial.ipynb
β”‚   β””β”€β”€ ...
β””β”€β”€ pdfs/
    β”β”€β”€ 2024-09-16_AI_Lecture.pdf
    β””β”€β”€ ...
```

### 4. μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰

```bash
python main.py
```

λΈλΌμ°μ €μ—μ„ `http://localhost:7860`μΌλ΅ μ ‘μ†

## π’¬ μ‚¬μ©λ²•

### κΈ°λ³Έ μ§μμ‘λ‹µ
- "RNNκ³Ό CNNμ μ°¨μ΄μ μ€?"
- "λ”¥λ¬λ‹ λ¨λΈ ν•™μµ λ°©λ²•"
- "μ¤λ²„ν”Όν… λ°©μ§€ κΈ°λ²•"

### μ½”λ“ κ²€μƒ‰
- "μ½”λ“ κ²€μƒ‰: CNN λ¨λΈ"
- "μ½”λ“ κ²€μƒ‰: λ°μ΄ν„° μ „μ²λ¦¬"
- π†• ν‚¤μ›λ“λ§ μ…λ ¥ν•΄λ„ λ¨: CNN, RAG, LangChain, Retriever β€¦

### κ°•μ μ”μ•½
- "κ°•μ μ”μ•½: 2024-09-16"
- "κ°•μ μ”μ•½: 20240916"
- π†• κ°•μ μ”μ•½: 6μ›” 3μ£Όμ°¨ (μμ—°μ–΄ μ£Όμ°¨ μΈμ‹)

νκ³ λ΅ (λΈ”λ΅κ·Έ μ¤νƒ€μΌ)

π†• νκ³ λ΅: 7μ›” 3μ£Όμ°¨
π†• νκ³ λ΅: 2025-07-21

### μ½”λ“ μ„¤λ…
1. μ½”λ“ κ²€μƒ‰μΌλ΅ μ›ν•λ” μ½”λ“ μ°ΎκΈ°
2. "μ½”λ“ μ„¤λ…: [μ„ νƒν• μ½”λ“]"

## π”§ μ£Όμ” κΈ°λ¥

### 1. λ²΅ν„° DB κµ¬μ¶• (`vector_db_builder.py`)
- Jupyter λ…ΈνΈλ¶μ μ½”λ“/λ§ν¬λ‹¤μ΄ μ…€ λ¶„λ¦¬ μ²λ¦¬
- PDF λ¬Έμ„ ν…μ¤νΈ μ¶”μ¶
- λ©”νƒ€λ°μ΄ν„° κΈ°λ° κ²€μƒ‰ μ§€μ›
- νμΌλ…μ—μ„ κ°•μ λ‚ μ§ μλ™ μ¶”μ¶

### 2. RAG μ‹μ¤ν… (`rag_system.py`)
- μ•™μƒλΈ” λ¦¬νΈλ¦¬λ²„ (λ²΅ν„° κ²€μƒ‰ + BM25)
- μ»¨ν…μ¤νΈ κΈ°λ° λ‹µλ³€ μƒμ„±
- μ½”λ“ μ¤λ‹ν« μ „μ© κ²€μƒ‰
- κ°•μλ³„ μ”μ•½ (λ‚ μ§/μ£Όμ°¨) β† π†•
- νκ³ λ΅ μƒμ„± (λ‚ μ§/μ£Όμ°¨) β† π†•

### 3. Gradio μΈν„°νμ΄μ¤ (`gradio_app.py`)
- μ‹¤μ‹κ°„ μ±„ν… μΈν„°νμ΄μ¤
- λ²΅ν„° DB κµ¬μ¶• λ²„νΌ
- μ½”λ“ ν•μ΄λΌμ΄ν…
- μ‘λ‹µ μ†μ¤ ν‘μ‹

## β™οΈ μ„¤μ •

### μ„λ² λ”© λ¨λΈ λ³€κ²½
`src/vector_db_builder.py`μ—μ„ λ¨λΈ λ³€κ²½:

```python
self.embeddings = HuggingFaceEmbeddings(
    model_name="your-embedding-model",
    model_kwargs={'device': 'cpu'},
    encode_kwargs={'normalize_embeddings': True}
)
```

### LLM λ¨λΈ λ³€κ²½
`src/rag_system.py`μ—μ„ λ¨λΈ λ³€κ²½:

```python
self.llm = Ollama(model="your-llm-model")
```

## π› λ¬Έμ  ν•΄κ²°

### Chroma DB μ¤λ¥
```bash
# DB λ””λ ‰ν† λ¦¬ μ‚­μ  ν›„ μ¬κµ¬μ¶•
rm -rf chroma_db/
```

### OpenAI API μ¤λ¥
```bash
# API ν‚¤ ν™•μΈ
echo $OPENAI_API_KEY

# .env νμΌ ν™•μΈ
cat .env
```


## π§ ν–¥ν›„ κ°μ„ μ‚¬ν•­

- [ ] ν•κµ­μ–΄ λ¦¬λ­ν‚Ή λ¨λΈ ν†µν•© -> "name": "dragonkue/bge-reranker-v2-m3-ko"
- [ ] μ½”λ“ μ‹¤ν–‰ κΈ°λ¥
- [ ] μ‹κ°ν™” κ²°κ³Ό ν‘μ‹
- [ ] λ‹¤μ¤‘ νμΌ μ—…λ΅λ“
- [ ] κ²€μƒ‰ κ²°κ³Ό ν•„ν„°λ§